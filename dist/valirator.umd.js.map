{"version":3,"file":"valirator.umd.js","sources":["../lib/utils.js","../lib/rules/divisibleByRule.js","../lib/rules/enumRule.js","../lib/rules/formatRule.js","../lib/rules/lessThanRule.js","../lib/rules/lessThanPropertyRule.js","../lib/rules/moreThanRule.js","../lib/rules/moreThanPropertyRule.js","../lib/rules/matchToRule.js","../lib/rules/matchToPropertyRule.js","../lib/rules/notMatchToRule.js","../lib/rules/notMatchToPropertiesRule.js","../lib/rules/maxRule.js","../lib/rules/maxItemsRule.js","../lib/rules/maxLengthRule.js","../lib/rules/minRule.js","../lib/rules/minItemsRule.js","../lib/rules/minLengthRule.js","../lib/rules/patternRule.js","../lib/rules/requiredRule.js","../lib/rules/typeRule.js","../lib/rules/uniqueItemsRule.js","../lib/storage.js","../lib/validationResult.js","../lib/core.js","../lib/libs/angular.js","../lib/libs/redux-form.js","../lib/validationSchema.js"],"sourcesContent":["/**\n * @description\n * Empty function\n */\nexport function noop() {}\n\n/**\n * @description\n * Check if type\n *\n * @param obj\n * @param {string} typeStr - type string like: '[object Object]', '[object Array]' and etc\n * @returns {boolean}\n */\nexport function isType(obj, typeStr) {\n  return Object.prototype.toString.call(obj) === typeStr;\n}\n\n/**\n * @description\n * Check if is Object\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isObject(obj) {\n  return isType(obj, '[object Object]');\n}\n\n/**\n * @description\n * Check if is Array\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isArray(obj) {\n  return isType(obj, '[object Array]');\n}\n\n/**\n * @description\n * Check if is Function\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isFunction(obj) {\n  return isType(obj, '[object Function]');\n}\n\n/**\n * @description\n * Check if is String\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isString(obj) {\n  return isType(obj, '[object String]');\n}\n\n/**\n * @description\n * Check if is Date\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isDate(obj) {\n  return isType(obj, '[object Date]');\n}\n\n/**\n * @description\n * Check if is Number\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isNumber(obj) {\n  return isType(obj, '[object Number]') && !isNaN(obj);\n}\n\n/**\n * @description\n * Check if is Boolean\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isBoolean(obj) {\n  return isType(obj, '[object Boolean]');\n}\n\n/**\n * @description\n * Check if is Empty\n * Empty string -> true\n * Empty array -> true\n * Empty object -> true\n *\n * Anything else -> false\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isEmpty(obj) {\n  return obj === '' || (isArray(obj) && obj.length === 0) || (isObject(obj) && Object.keys(obj).length === 0);\n}\n\n/**\n * @description\n * Check if is Null\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isNull(obj) {\n  return isType(obj, '[object Null]');\n}\n\n/**\n * @description\n * Check if is Undefined\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isUndefined(obj) {\n  return isType(obj, '[object Undefined]');\n}\n\n/**\n * @description\n * Check is is Null or Undefined\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isNullOrUndefined(obj) {\n  return isNull(obj) || isUndefined(obj);\n}\n\n/**\n * @description\n * Check is object is defined (not null, not undefined, not empty string, object or array\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isDefined(obj) {\n  return !(isNullOrUndefined(obj) || isEmpty(obj));\n}\n\n/**\n * @description\n * Safe convert to String\n *\n * @param obj\n * @returns {string}\n */\nexport function toString(obj) {\n  return String(obj);\n}\n\n/**\n * @description\n * Safe indexOf\n *\n * @param array\n * @param value\n * @returns {Number}\n */\nexport function indexOf(array, value) {\n  if (!isArray(array)) {\n    return -1;\n  }\n\n  return array.indexOf(value);\n}\n\n/**\n * @description\n * Safe check if value in array\n *\n * @param array\n * @param value\n * @returns {boolean}\n */\nexport function inArray(array, value) {\n  return isArray(array) && indexOf(array, value) !== -1;\n}\n\n/**\n * @description\n * Cast item to array\n *\n * @param array\n * @returns {Array}\n */\nexport function castArray(array) {\n  return isArray(array) ? array : [array];\n}\n\n/**\n * @description\n * Safe check is object has property\n *\n * @param obj\n * @param {string} prop - property name\n * @returns {boolean}\n */\nexport function hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n/**\n * @description\n * Safe set prototype\n *\n * @param obj\n * @param proto\n * @returns {Object}\n */\nexport function setPrototypeOf(obj, proto) {\n  if (Object.setPrototypeOf) {\n    return Object.setPrototypeOf(obj, proto);\n  }\n\n  obj.__proto__ = proto;\n\n  return obj;\n}\n\n/**\n * @description\n * Safe get prototype\n *\n * @param obj\n * @returns {*}\n */\nexport function getPrototypeOf(obj) {\n  if (Object.getPrototypeOf) {\n    return Object.getPrototypeOf(obj);\n  }\n\n  return obj.__proto__;\n}\n\n/**\n * @description\n * Get property value\n *\n * @param {Object} obj\n * @param {string} path\n * @param fallback - fallback value\n * @returns {*}\n */\nexport function getProperty(obj, path = '', fallback = null) {\n  let result = obj;\n  let prop = toString(path);\n\n  if (path === '') {\n    return result;\n  }\n\n  if (!isDefined(obj)) {\n    return fallback;\n  }\n\n  do {\n    if (isObject(result)) {\n      if (hasOwnProperty(result, prop)) {\n        return result[prop];\n      }\n\n      const [first, ...rest] = prop.split('.');\n\n      result = result[first];\n      prop = rest.join('.');\n    } else {\n      break;\n    }\n  } while (prop);\n\n  if (result === null || result === undefined) {\n    return fallback;\n  }\n\n  return result;\n}\n\n/**\n * @description\n * Get property override in chain\n *\n * @param {Object} context\n * @param {string} prop\n * @returns {*}\n */\nexport function getPropertyOverride(context, prop) {\n  if (!context) {\n    return false;\n  }\n\n  return isFunction(context[prop]) ? context[prop] : getPropertyOverride(getPrototypeOf(context), prop);\n}\n\n/**\n * @description\n * Handle Promise or PromiseLike object\n *\n * @param {Promise|PromiseLike} promise\n * @returns {Promise|PromiseLike}\n */\nexport function handlePromise(promise) {\n  if (promise && promise.then) {\n    return promise;\n  }\n\n  return {\n    then: cb => handlePromise(cb(promise)),\n    catch: noop,\n    value: promise,\n    isPromiseLike: true,\n  };\n}\n\n/**\n * @description\n * Handle array of Promises or PromiseLike objects\n *\n * @param promises\n * @returns {Promise|PromiseLike}\n */\nexport function handlePromises(promises) {\n  const isAnyPromiseNotPromiseLike = promises.some(promise => promise && promise.then && !promise.isPromiseLike);\n  if (isAnyPromiseNotPromiseLike) {\n    return Promise.all(promises);\n  }\n\n  const results = promises.map(promise => promise.value);\n\n  return handlePromise(results);\n}\n\n/**\n * @description\n * Format message for rule\n *\n * @param {string|Function} message - message template\n * @param {*} actual - actual value\n * @param {*} expected - expected value\n * @param {string} property - validating property\n * @param {Object} obj - validating object\n * @param {Function} rule - validating function\n * @returns {Promise<string>|PromiseLike<string>}\n */\nexport function formatMessage(\n  message = 'No default message for rule \"%{rule}\"',\n  actual,\n  expected,\n  property,\n  obj,\n  rule,\n) {\n  const lookup = {\n    actual,\n    expected,\n    property,\n    rule,\n  };\n\n  const formattedMessage = isFunction(message)\n    ? message(actual, expected, property, obj)\n    : isString(message)\n      ? message.replace(/%\\{([a-z]+)\\}/gi, (_, match) => lookup[match.toLowerCase()] || '')\n      : message;\n\n  return handlePromise(formattedMessage);\n}\n\n/**\n * @typedef {Object} PromiseLike\n * @property {Function} then\n * @property {Function} catch\n * @property {*} value\n * @property {boolean} isPromiseLike\n */\n","import { isDefined, toString } from '../utils';\n\n/**\n *\n * @param value\n * @param divisibleBy\n * @returns {boolean}\n */\nexport default function divisibleByRule(value, divisibleBy) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  let multiplier = Math.max(\n    toString(value - Math.floor(value)).length - 2,\n    toString(divisibleBy - Math.floor(divisibleBy)).length - 2,\n  );\n\n  multiplier = multiplier > 0 ? Math.pow(10, multiplier) : 1;\n\n  return (value * multiplier) % (divisibleBy * multiplier) === 0;\n}\n","import { isDefined, inArray } from '../utils';\n\n/**\n *\n * @param value\n * @param e\n * @returns {boolean}\n */\nexport default function enumRule(value, e) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  return inArray(e, value);\n}\n","/* eslint-disable no-control-regex,no-useless-escape */\nimport { isDefined, isString, isFunction } from '../utils';\n\nconst FORMATS = {\n  int: /^-?\\d+$/,\n  float: /^-?\\d+\\.\\d+$/,\n  number: /^-?\\d+\\.?\\d*$/,\n  email: /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i,\n  ip: /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i,\n  ipv6: /^([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4}$/,\n  time: /^\\d{2}:\\d{2}:\\d{2}$/,\n  date: /^\\d{4}-\\d{2}-\\d{2}$/,\n  'date-time': /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:.\\d{1,3})?Z$/,\n  color: /^#[a-z0-9]{6}|#[a-z0-9]{3}|(?:rgb\\(\\s*(?:[+-]?\\d+%?)\\s*,\\s*(?:[+-]?\\d+%?)\\s*,\\s*(?:[+-]?\\d+%?)\\s*\\))aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow$/i,\n  'host-name': /^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\\-]*[A-Za-z0-9])/,\n  url: /^(https?|ftp|git):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i,\n  regex: {\n    test: function test(value) {\n      try {\n        new RegExp(value);\n      } catch (e) {\n        return false;\n      }\n\n      return true;\n    },\n  },\n};\n\n/**\n *\n * @param value\n * @param format\n * @returns {boolean}\n */\nexport default function formatRule(value, format) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  if (!FORMATS[format]) {\n    throw new Error(`Unknown format \"${format}\"`);\n  }\n\n  return FORMATS[format].test(value);\n}\n\n/**\n *\n * @param name\n * @param format\n */\nexport function addFormatToFormatRule(name, format) {\n  if (isString(format)) {\n    FORMATS[name] = new RegExp(format);\n  } else if (isFunction(format)) {\n    FORMATS[name] = {\n      test: format,\n    };\n  } else {\n    FORMATS[name] = format;\n  }\n}\n","/**\n *\n * @param value\n * @param lessThan\n * @returns {boolean}\n */\nexport default function lessThanRule(value, lessThan) {\n  return value < lessThan;\n}\n","/**\n *\n * @param value\n * @param lessThanProperty\n * @param obj\n * @returns {boolean}\n */\nexport default function lessThanPropertyRule(value, lessThanProperty, obj) {\n  return value < obj[lessThanProperty];\n}\n","/**\n *\n * @param value\n * @param moreThan\n * @returns {boolean}\n */\nexport default function moreThanRule(value, moreThan) {\n  return value > moreThan;\n}\n","/**\n *\n * @param value\n * @param moreThanProperty\n * @param obj\n * @returns {boolean}\n */\nexport default function moreThanPropertyRule(value, moreThanProperty, obj) {\n  return value > obj[moreThanProperty];\n}\n","/**\n *\n * @param value\n * @param matchTo\n * @returns {boolean}\n */\nexport default function matchToRule(value, matchTo) {\n  return value === matchTo;\n}\n","/**\n *\n * @param value\n * @param matchToProperty\n * @param obj\n * @returns {boolean}\n */\nexport default function matchToPropertyRule(value, matchToProperty, obj) {\n  return value === obj[matchToProperty];\n}\n","import { castArray } from '../utils';\n\n/**\n *\n * @param value\n * @param notMatchTo\n * @returns {*}\n */\nexport default function notMatchToRule(value, notMatchTo) {\n  return castArray(notMatchTo).every(not => not !== value);\n}\n","import { castArray } from '../utils';\n\n/**\n *\n * @param value\n * @param notMatchToProperties\n * @param obj\n * @returns {*}\n */\nexport default function notMatchToPropertiesRule(value, notMatchToProperties, obj) {\n  return castArray(notMatchToProperties).every(not => obj[not] !== value);\n}\n","import { isDefined } from '../utils';\n\n/**\n *\n * @param value\n * @param max\n * @returns {boolean}\n */\nexport default function maxRule(value, max) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  return value <= max;\n}\n","import { isDefined, isArray } from '../utils';\n\n/**\n *\n * @param value\n * @param maxItems\n * @returns {boolean}\n */\nexport default function maxItemsRule(value, maxItems) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  return isArray(value) && value.length <= maxItems;\n}\n","import { isDefined } from '../utils';\n\n/**\n *\n * @param value\n * @param maxLength\n * @returns {boolean}\n */\nexport default function maxLengthRule(value, maxLength) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  return value.length <= maxLength;\n}\n","import { isDefined } from '../utils';\n\n/**\n *\n * @param value\n * @param min\n * @returns {boolean}\n */\nexport default function minRule(value, min) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  return value >= min;\n}\n","import { isDefined, isArray } from '../utils';\n\n/**\n *\n * @param value\n * @param minItems\n * @returns {boolean}\n */\nexport default function minItemsRule(value, minItems) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  return isArray(value) && value.length >= minItems;\n}\n","import { isDefined } from '../utils';\n\n/**\n *\n * @param value\n * @param minLength\n * @returns {boolean}\n */\nexport default function minLengthRule(value, minLength) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  return value.length >= minLength;\n}\n","import { castArray, isDefined, isString } from '../utils';\n\n/**\n *\n * @param value\n * @param patterns\n * @returns {boolean}\n */\nexport default function patternRule(value, patterns) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  patterns = castArray(patterns).map(pattern => (isString(pattern) ? new RegExp(pattern) : pattern));\n\n  return patterns.every(pattern => pattern.test(value));\n}\n","import { isDefined, isBoolean, isObject } from '../utils';\n\n/**\n *\n * @param value\n * @param required\n * @returns {*}\n */\nexport default function requiredRule(value, required) {\n  if (isBoolean(required) && !required) {\n    return true;\n  }\n\n  if (isObject(required)) {\n    const { allowEmpty, allowZero } = required;\n\n    if (isBoolean(allowEmpty)) {\n      return allowEmpty && value === '';\n    }\n\n    if (isBoolean(allowZero)) {\n      return allowZero && value === 0;\n    }\n  }\n\n  return !!value && isDefined(value);\n}\n","import { isDefined, isBoolean, isNumber, isString, isDate, isObject, isArray } from '../utils';\n\nfunction checkValueType(value, type) {\n  switch (type) {\n    case 'boolean':\n      return isBoolean(value);\n\n    case 'number':\n      return isNumber(value);\n\n    case 'string':\n      return isString(value);\n\n    case 'date':\n      return isDate(value);\n\n    case 'object':\n      return isObject(value);\n\n    case 'array':\n      return isArray(value);\n\n    default:\n      return true;\n  }\n}\n\n/**\n *\n * @param value\n * @param type\n * @returns {boolean}\n */\nexport default function typeRule(value, type) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  let types = type;\n\n  if (!Array.isArray(type)) {\n    types = [type];\n  }\n\n  return types.some(type => checkValueType(value, type));\n}\n","import { isDefined } from '../utils';\n\n/**\n *\n * @param value\n * @param uniqueItems\n * @returns {boolean}\n */\nexport default function uniqueItemsRule(value, uniqueItems) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  if (!uniqueItems) {\n    return true;\n  }\n\n  const hash = {};\n\n  let i = 0,\n    ln = value.length;\n  for (; i < ln; i++) {\n    const key = JSON.stringify(value[i]);\n    if (hash[key]) {\n      return false;\n    }\n\n    hash[key] = true;\n  }\n\n  return true;\n}\n","import { hasOwnProperty } from './utils';\nimport {\n  divisibleByRule,\n  enumRule,\n  formatRule,\n  lessThanPropertyRule,\n  lessThanRule,\n  moreThanPropertyRule,\n  moreThanRule,\n  matchToPropertyRule,\n  matchToRule,\n  notMatchToPropertiesRule,\n  notMatchToRule,\n  maxItemsRule,\n  maxLengthRule,\n  maxRule,\n  minItemsRule,\n  minLengthRule,\n  minRule,\n  patternRule,\n  requiredRule,\n  typeRule,\n  uniqueItemsRule,\n} from './rules/index';\n\nconst rulesStorage = {};\n\n/**\n * Register validation rule\n *\n * @param {string} name - rule name\n * @param {Function} rule - rule function\n * @param {string|Function} message - rule message\n */\nexport function registerRule(name, rule, message) {\n  if (hasOwnProperty(rulesStorage, name)) {\n    console.warn(`[WARNING]: Trying to override defined rule '${name}'. Please use 'overrideRule' function instead.`);\n  }\n\n  rulesStorage[name] = {\n    name,\n    message,\n    check: rule,\n  };\n}\n\n/**\n * Check if rule is registered\n *\n * @param {string} name - rule name\n * @returns {boolean}\n */\nexport function hasRule(name) {\n  return hasOwnProperty(rulesStorage, name);\n}\n\n/**\n * Get rule by name\n *\n * @param {string} name\n * @returns {{name, message, check}}\n */\nexport function getRule(name) {\n  return rulesStorage[name] || {};\n}\n\n/**\n * Override rule by name\n *\n * @param {string} name - rule name\n * @param {Function} rule - rule function\n * @param {string|Function} message - rule message\n */\nexport function overrideRule(name, rule, message) {\n  if (hasRule(name)) {\n    let defaultRule = getRule(name);\n\n    defaultRule.check = rule;\n    defaultRule.message = message || defaultRule.message;\n  }\n}\n\n/**\n * Override rule message by name\n *\n * @param {string} name - rule name\n * @param {string|Function} message - rule message\n */\nexport function overrideRuleMessage(name, message) {\n  if (hasRule(name)) {\n    let defaultRule = getRule(name);\n\n    defaultRule.message = message;\n  }\n}\n\nregisterRule('divisibleBy', divisibleByRule, 'must be divisible by %{expected}');\nregisterRule('enum', enumRule, 'must be present in given enumerator');\nregisterRule('format', formatRule, 'is not a valid %{expected}');\nregisterRule('lessThanProperty', lessThanPropertyRule, 'must be less than %{expected}');\nregisterRule('lessThanRule', lessThanRule, 'must be less than %{expected}');\nregisterRule('moreThanProperty', moreThanPropertyRule, 'must be greater than %{expected}');\nregisterRule('moreThan', moreThanRule, 'must be greater than %{expected}');\nregisterRule('matchToProperty', matchToPropertyRule, 'should match to %{expected}');\nregisterRule('matchTo', matchToRule, 'should match to %{expected}');\nregisterRule('notMatchToProperty', notMatchToPropertiesRule, 'should not match to %{expected}');\nregisterRule('notMatchToProperties', notMatchToPropertiesRule, 'should not match to %{expected}');\nregisterRule('notMatchTo', notMatchToRule, 'should not match to %{expected}');\nregisterRule('maxItems', maxItemsRule, 'must contain less than %{expected} items');\nregisterRule('maxLength', maxLengthRule, 'is too long (maximum is %{expected} characters)');\nregisterRule('max', maxRule, 'must be less than or equal to %{expected}');\nregisterRule('minItems', minItemsRule, 'must contain more than %{expected} items');\nregisterRule('minLength', minLengthRule, 'is too short (minimum is %{expected} characters)');\nregisterRule('min', minRule, 'must be greater than or equal to %{expected}');\nregisterRule('pattern', patternRule, 'invalid input');\nregisterRule('required', requiredRule, 'is required');\nregisterRule('type', typeRule, 'must be of %{expected} type');\nregisterRule('uniqueItems', uniqueItemsRule, 'must hold an unique set of values');\n","import { isString, isObject, isDefined, getPrototypeOf } from './utils';\n\n/**\n * @typedef ValidationResult\n * @property {boolean} isValid - check if validation result has not errors\n * @property {boolean} hasErrors - check if validation result has errors\n * @property {boolean} hasErrorsOfTypes - check if validation result has errors of specific types\n * @property {*} getErrors - get validation result errors\n * @property {*} getFirstErrors - get first validation result errors\n * @property {Array<*>} getErrorsAsArray - get validation result errors as array\n * @property {string} getFirstError - get first validation result error\n *\n * ValidationResult is util class that contain information about errors and any level\n *\n * @param {Object} errors - validation errors\n * @returns {ValidationResult}\n */\nexport default function ValidationResult(errors = {}) {\n  const protoOfErrors = getPrototypeOf(errors);\n  const that = {\n    ...protoOfErrors,\n    ...errors,\n  };\n  const keys = [...Object.keys(errors), ...Object.keys(protoOfErrors)];\n\n  Object.defineProperties(that, {\n    isValid: {\n      value: function isValid() {\n        return !this.hasErrors();\n      },\n    },\n    hasErrors: {\n      value: function hasErrors() {\n        return keys.some(key => {\n          if (that[key].hasErrors) {\n            return that[key].hasErrors();\n          }\n\n          return that[key];\n        });\n      },\n    },\n    hasErrorsOfTypes: {\n      value: function hasErrorsOfTypes(...types) {\n        return keys.some(key => {\n          if (types.indexOf(key) !== -1) {\n            return true;\n          }\n\n          if (that[key].hasErrorsOfTypes) {\n            return that[key].hasErrorsOfTypes(...types);\n          }\n\n          return false;\n        });\n      },\n    },\n    getErrors: {\n      value: function getErrors(includeEmptyErrors) {\n        return keys.reduce((result, key) => {\n          const subErrors = that[key].getErrors ? that[key].getErrors(includeEmptyErrors) : that[key];\n\n          if (Object.keys(subErrors).length || includeEmptyErrors) {\n            return {\n              ...result,\n              [key]: subErrors,\n            };\n          }\n\n          return result;\n        }, {});\n      },\n    },\n    getFirstErrors: {\n      value: function getFirstErrors(includeEmptyErrors) {\n        return keys.reduce((result, key, index) => {\n          const subErrors = that[key].getFirstErrors ? that[key].getFirstErrors(includeEmptyErrors) : that[key];\n\n          if (!isString(result) && isObject(that[key]) && (Object.keys(subErrors).length || includeEmptyErrors)) {\n            return {\n              ...result,\n              [key]: subErrors,\n            };\n          }\n\n          return index === 0 ? subErrors : result;\n        }, {});\n      },\n    },\n    getErrorsAsArray: {\n      value: function getErrorsAsArray(includeEmptyErrors) {\n        return keys\n          .map(key => {\n            const subErrors = that[key].getErrorsAsArray ? that[key].getErrorsAsArray(includeEmptyErrors) : that[key];\n\n            if (subErrors.length || includeEmptyErrors) {\n              return subErrors;\n            }\n\n            return null;\n          }, {})\n          .filter(error => isDefined(error));\n      },\n    },\n    getFirstError: {\n      value: function getFirstError(...exclude) {\n        return (this.getErrorsAsArray(exclude) || [])[0];\n      },\n    },\n  });\n\n  return that;\n}\n","import { getRule, hasRule } from './storage';\nimport {\n  noop,\n  isFunction,\n  isString,\n  isArray,\n  castArray,\n  handlePromise,\n  handlePromises,\n  formatMessage,\n  setPrototypeOf,\n  getProperty,\n  getPropertyOverride,\n  hasOwnProperty,\n} from './utils';\n\nimport ValidationResult from './validationResult';\n\n/**\n * @description\n * Main endpoint for validation\n * Validate anything by specified schema\n *\n * @param {Object|Function} schema - Validation schema\n * @param {Object|Array} anything - Anything to validate\n * @returns {Promise<ValidationResult>}\n *\n * @example\n * import { validate } from 'valirator';\n *\n * const schema = {\n *    FirstName: {\n *      required: true,\n *    },\n *    LastName: {\n *      required: true,\n *    },\n * };\n *\n * const obj = {\n *   FirstName: 'Bob',\n * };\n *\n * const validationResult = await validate(schema, obj);\n */\nexport function validate(schema, anything) {\n  return handlePromise(isFunction(schema) ? schema(anything) : schema).then(builtSchema =>\n    validateProperty(undefined, anything, builtSchema),\n  );\n}\n\n/**\n * @description\n * Wrapper on validate function for sync validation\n * Can be used if no async operation defined (rule or message)\n *\n * @param {Object|Function} schema - Validation schema\n * @param {Object|Array} anything - Anything to validate\n * @returns {ValidationResult}\n */\nexport function validateSync(schema, anything) {\n  const promise = validate(isFunction(schema) ? schema(anything) : schema, anything);\n\n  return promise && promise.value;\n}\n\n/**\n *\n * @param obj\n * @param schema\n * @param overrides\n * @returns {Promise<ValidationResult>}\n */\nexport function validateObject(obj, schema, overrides = {}) {\n  const keys = Object.keys(schema);\n  const promises = keys.map(property => validateProperty(property, obj, schema, overrides));\n\n  return handlePromises(promises).then(results => {\n    let errors = {};\n\n    results.forEach((result, i) => {\n      errors[keys[i]] = result;\n    });\n\n    return new ValidationResult(errors);\n  });\n}\n\n/**\n *\n * @param obj\n * @param schema\n * @param overrides\n * @returns {ValidationResult}\n */\nexport function validateObjectSync(obj, schema, overrides) {\n  const promise = validateObject(obj, schema, overrides);\n\n  return promise && promise.value;\n}\n\n/**\n *\n * @param array\n * @param schema\n * @param overrides\n * @returns {Promise<ValidationResult>}\n */\nexport function validateArray(array, schema, overrides = {}) {\n  const promises = (array || []).map(item => validateObject(item, schema, overrides));\n\n  return handlePromises(promises).then(results => {\n    let errors = {};\n\n    results.forEach((result, i) => {\n      errors[i] = result;\n    });\n\n    return new ValidationResult(errors);\n  });\n}\n\n/**\n *\n * @param array\n * @param schema\n * @param overrides\n * @returns {ValidationResult}\n */\nexport function validateArraySync(array, schema, overrides) {\n  const promise = validateArray(array, schema, overrides);\n\n  return promise && promise.value;\n}\n\n/**\n *\n * @param property\n * @param obj\n * @param schema\n * @param overrides\n * @returns {Promise<ValidationResult>}\n */\nexport function validateProperty(property, obj, schema = {}, overrides = {}) {\n  const propertyValue = getProperty(schema, property, {});\n  let {\n    __isArray__,\n    rules: propertyRules,\n    messages: propertyMessages = {},\n    overrides: propertyOverrides = {},\n    properties: propertyProperties,\n  } = propertyValue;\n\n  const { rules: overriddenRules = {}, messages: overriddenMessages = {} } = overrides;\n\n  if (!propertyRules && !propertyProperties) {\n    const propertyKeys = Object.keys(propertyValue);\n    const hasRuleProperty = propertyKeys.some(\n      key => hasRule(key) || hasOwnProperty(overriddenRules, key) || isFunction(propertyValue[key]),\n    );\n\n    if (hasRuleProperty) {\n      propertyRules = propertyValue;\n    }\n  }\n\n  if (!propertyRules && !propertyProperties) {\n    propertyProperties = propertyValue;\n  }\n\n  if (!propertyRules) {\n    propertyRules = {};\n  }\n\n  if (!propertyProperties) {\n    propertyProperties = {};\n  }\n\n  setPrototypeOf(propertyOverrides, overrides);\n  setPrototypeOf(propertyRules, overriddenRules);\n  setPrototypeOf(propertyMessages, overriddenMessages);\n\n  const value = getProperty(obj, property);\n\n  return validateValue(value, propertyRules, propertyMessages, obj, property, schema).then(valueValidationResult => {\n    if (propertyProperties) {\n      const subValidationCallback = subValidationResult => {\n        setPrototypeOf(valueValidationResult, subValidationResult);\n\n        return new ValidationResult(valueValidationResult);\n      };\n\n      if (isArray(value) || __isArray__) {\n        return validateArray(value, propertyProperties, propertyOverrides).then(subValidationCallback);\n      } else {\n        return validateObject(value, propertyProperties, propertyOverrides).then(subValidationCallback);\n      }\n    }\n\n    return new ValidationResult(valueValidationResult);\n  });\n}\n\n/**\n *\n * @param property\n * @param obj\n * @param schema\n * @param overrides\n * @returns {ValidationResult}\n */\nexport function validatePropertySync(property, obj, schema, overrides) {\n  const promise = validateProperty(property, obj, schema, overrides);\n\n  return promise && promise.value;\n}\n\n/**\n *\n * @param value\n * @param rules\n * @param messages\n * @param obj\n * @param property\n * @param schema\n * @returns {Promise<ValidationResult>}\n */\nexport function validateValue(value, rules = {}, messages = {}, obj, property, schema) {\n  const keys = Object.keys(rules);\n  const promises = keys.map(rule => {\n    const expected = rules[rule];\n    const message = messages[rule];\n\n    return validateRule(rule, expected, value, message, rules, messages, obj, property, schema);\n  });\n\n  return handlePromises(promises).then(results => {\n    let errors = {};\n\n    results.forEach((result, i) => {\n      if (result) {\n        errors[keys[i]] = result;\n      }\n    });\n\n    return new ValidationResult(errors);\n  });\n}\n\n/**\n *\n * @param value\n * @param rules\n * @param messages\n * @param obj\n * @param property\n * @param schema\n * @returns {ValidationResult}\n */\nexport function validateValueSync(value, rules, messages, obj, property, schema) {\n  const promise = validateValue(value, rules, messages, obj, property, schema);\n\n  return promise && promise.value;\n}\n\n/**\n *\n * @param rule\n * @param expected\n * @param value\n * @param message\n * @param rules\n * @param messages\n * @param obj\n * @param property\n * @param schema\n * @returns {Promise<boolean>}\n */\nexport function validateRule(rule, expected, value, message, rules, messages, obj, property, schema) {\n  const { check: defaultRule = noop, message: defaultMessage } = getRule(rule);\n\n  const overriddenRule = rules && (getPropertyOverride(rules, rule) || rules[rule]);\n  const overriddenMessage = messages && (getPropertyOverride(messages, rule) || messages[rule]);\n\n  const ruleFn = isFunction(overriddenRule) ? overriddenRule : defaultRule;\n  const ruleMsg = overriddenMessage || message || defaultMessage;\n\n  const expects = castArray(expected);\n  const validations = expects.map(exp => handlePromise(ruleFn(value, exp, obj, property, schema, defaultRule)));\n\n  return handlePromises(validations).then(results => {\n    const hasValidResult = results.some(result => result === true);\n\n    if (!hasValidResult) {\n      const result = results.find(result => result !== true);\n\n      if (isString(result)) {\n        return result;\n      } else if (result !== true) {\n        return formatMessage(\n          ruleMsg,\n          value,\n          expects.join(', '),\n          getProperty(schema, `${property}.alias`) || property,\n          obj,\n          rule,\n        );\n      }\n    }\n  });\n}\n\n/**\n *\n * @param rule\n * @param expected\n * @param value\n * @param message\n * @param rules\n * @param messages\n * @param obj\n * @param property\n * @param schema\n * @returns {boolean}\n */\nexport function validateRuleSync(rule, expected, value, message, rules, messages, obj, property, schema) {\n  const promise = validateRule(rule, expected, value, message, rules, messages, obj, property, schema);\n\n  return promise && promise.value;\n}\n","import { validate, validateSync } from '../core';\n\n/**\n *\n * @param schema\n * @param onlyFirstErrors\n * @returns {ngValidatorFn}\n */\nexport function ngValidator(schema, onlyFirstErrors) {\n  return function ngValidatorFn(control) {\n    const validationResult = validateSync(schema, control.value);\n\n    return onlyFirstErrors ? validationResult.getFirstErrors() : validationResult.getErrors();\n  };\n}\n\n/**\n *\n * @param schema\n * @param onlyFirstErrors\n * @returns {ngAsyncValidatorFn}\n */\nexport function ngAsyncValidator(schema, onlyFirstErrors) {\n  return function ngAsyncValidatorFn(control) {\n    return validate(schema, control.value).then(validationResult => {\n      return onlyFirstErrors ? validationResult.getFirstErrors() : validationResult.getErrors();\n    });\n  };\n}\n","import { validate, validateSync } from '../core';\n\n/**\n *\n * @param schema\n * @param allErrors\n * @returns {reduxFormValidatorFn}\n */\nexport function reduxFormValidator(schema, allErrors) {\n  return function reduxFormValidatorFn(values) {\n    const validationResult = validateSync(schema, values);\n\n    return allErrors ? validationResult.getErrors() : validationResult.getFirstErrors();\n  };\n}\n\n/**\n *\n * @param schema\n * @param allErrors\n * @returns {reduxFormAsyncValidatorFn}\n */\nexport function reduxFormAsyncValidator(schema, allErrors) {\n  return function reduxFormAsyncValidatorFn(values) {\n    return validate(schema, values).then(validationResult => {\n      return allErrors ? validationResult.getErrors() : validationResult.getFirstErrors();\n    });\n  };\n}\n","import { validate, validateSync, validateProperty, validatePropertySync } from './core';\n\n/**\n * ValidationSchema is util class that\n *\n * @param {Object} schema -\n * @constructor\n */\nexport default function ValidationSchema(schema) {\n  this._schema = schema;\n\n  this.validate = obj => validate(schema, obj);\n  this.validateSync = obj => validateSync(schema, obj);\n  this.validateProperty = (property, obj) => validateProperty(property, obj, schema);\n  this.validatePropertySync = (property, obj) => validatePropertySync(property, obj);\n}\n"],"names":["noop","isType","obj","typeStr","Object","prototype","toString","call","isObject","isArray","isFunction","isString","isDate","isNumber","isNaN","isBoolean","isEmpty","length","keys","isNull","isUndefined","isNullOrUndefined","isDefined","String","indexOf","array","value","inArray","castArray","hasOwnProperty","prop","setPrototypeOf","proto","__proto__","getPrototypeOf","getProperty","path","fallback","result","split","first","rest","join","undefined","getPropertyOverride","context","handlePromise","promise","then","cb","catch","isPromiseLike","handlePromises","promises","isAnyPromiseNotPromiseLike","some","Promise","all","results","map","formatMessage","message","actual","expected","property","rule","lookup","formattedMessage","replace","_","match","toLowerCase","divisibleByRule","divisibleBy","multiplier","Math","max","floor","pow","enumRule","e","FORMATS","int","float","number","email","ip","ipv6","time","date","color","url","regex","test","formatRule","format","Error","addFormatToFormatRule","name","RegExp","lessThanRule","lessThan","lessThanPropertyRule","lessThanProperty","moreThanRule","moreThan","moreThanPropertyRule","moreThanProperty","matchToRule","matchTo","matchToPropertyRule","matchToProperty","notMatchToRule","notMatchTo","every","not","notMatchToPropertiesRule","notMatchToProperties","maxRule","maxItemsRule","maxItems","maxLengthRule","maxLength","minRule","min","minItemsRule","minItems","minLengthRule","minLength","patternRule","patterns","pattern","requiredRule","required","allowEmpty","allowZero","checkValueType","type","typeRule","types","Array","uniqueItemsRule","uniqueItems","hash","i","ln","key","JSON","stringify","rulesStorage","registerRule","console","warn","check","hasRule","getRule","overrideRule","defaultRule","overrideRuleMessage","ValidationResult","errors","protoOfErrors","that","defineProperties","isValid","hasErrors","hasErrorsOfTypes","getErrors","includeEmptyErrors","reduce","subErrors","getFirstErrors","index","getErrorsAsArray","filter","error","getFirstError","exclude","validate","schema","anything","builtSchema","validateProperty","validateSync","validateObject","overrides","forEach","validateObjectSync","validateArray","item","validateArraySync","propertyValue","__isArray__","propertyRules","rules","messages","propertyMessages","propertyOverrides","propertyProperties","properties","overriddenRules","overriddenMessages","propertyKeys","hasRuleProperty","validateValue","valueValidationResult","subValidationCallback","subValidationResult","validatePropertySync","validateRule","validateValueSync","defaultMessage","overriddenRule","overriddenMessage","ruleFn","ruleMsg","expects","validations","exp","hasValidResult","find","validateRuleSync","ngValidator","onlyFirstErrors","ngValidatorFn","control","validationResult","ngAsyncValidator","ngAsyncValidatorFn","reduxFormValidator","allErrors","reduxFormValidatorFn","values","reduxFormAsyncValidator","reduxFormAsyncValidatorFn","ValidationSchema","_schema"],"mappings":"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"}