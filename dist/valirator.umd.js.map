{"version":3,"file":"valirator.umd.js","sources":["../lib/utils.js","../lib/rules/divisibleByRule.js","../lib/rules/enumRule.js","../lib/rules/formatRule.js","../lib/rules/lessThanRule.js","../lib/rules/lessThanPropertyRule.js","../lib/rules/moreThanRule.js","../lib/rules/moreThanPropertyRule.js","../lib/rules/matchToRule.js","../lib/rules/matchToPropertyRule.js","../lib/rules/notMatchToRule.js","../lib/rules/notMatchToPropertyRule.js","../lib/rules/maxRule.js","../lib/rules/maxItemsRule.js","../lib/rules/maxLengthRule.js","../lib/rules/minRule.js","../lib/rules/minItemsRule.js","../lib/rules/minLengthRule.js","../lib/rules/patternRule.js","../lib/rules/requiredRule.js","../lib/rules/typeRule.js","../lib/rules/uniqueItemsRule.js","../lib/storage.js","../lib/validationResult.js","../lib/core.js","../lib/libs/angular.js","../lib/libs/redux-form.js","../lib/validationSchema.js"],"sourcesContent":["/**\n * @description\n * Empty function\n */\nexport function noop() {}\n\n/**\n * @description\n * Check if type\n *\n * @param obj\n * @param {string} typeStr - type string like: '[object Object]', '[object Array]' and etc\n * @returns {boolean}\n */\nexport function isType(obj, typeStr) {\n  return Object.prototype.toString.call(obj) === typeStr;\n}\n\n/**\n * @description\n * Check if is Object\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isObject(obj) {\n  return isType(obj, '[object Object]');\n}\n\n/**\n * @description\n * Check if is Array\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isArray(obj) {\n  return isType(obj, '[object Array]');\n}\n\n/**\n * @description\n * Check if is Function\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isFunction(obj) {\n  return isType(obj, '[object Function]');\n}\n\n/**\n * @description\n * Check if is String\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isString(obj) {\n  return isType(obj, '[object String]');\n}\n\n/**\n * @description\n * Check if is Date\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isDate(obj) {\n  return isType(obj, '[object Date]');\n}\n\n/**\n * @description\n * Check if is Number\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isNumber(obj) {\n  return isType(obj, '[object Number]') && !isNaN(obj);\n}\n\n/**\n * @description\n * Check if is Boolean\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isBoolean(obj) {\n  return isType(obj, '[object Boolean]');\n}\n\n/**\n * @description\n * Check if is Empty\n * Empty string -> true\n * Empty array -> true\n * Empty object -> true\n *\n * Anything else -> false\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isEmpty(obj) {\n  return obj === '' || (isArray(obj) && obj.length === 0) || (isObject(obj) && Object.keys(obj).length === 0);\n}\n\n/**\n * @description\n * Check if is Null\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isNull(obj) {\n  return isType(obj, '[object Null]');\n}\n\n/**\n * @description\n * Check if is Undefined\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isUndefined(obj) {\n  return isType(obj, '[object Undefined]');\n}\n\n/**\n * @description\n * Check is is Null or Undefined\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isNullOrUndefined(obj) {\n  return isNull(obj) || isUndefined(obj);\n}\n\n/**\n * @description\n * Check is object is defined (not null, not undefined, not empty string, object or array\n *\n * @param obj\n * @returns {boolean}\n */\nexport function isDefined(obj) {\n  return !(isNullOrUndefined(obj) || isEmpty(obj));\n}\n\n/**\n * @description\n * Safe convert to String\n *\n * @param obj\n * @returns {string}\n */\nexport function toString(obj) {\n  return String(obj);\n}\n\n/**\n * @description\n * Safe indexOf\n *\n * @param array\n * @param value\n * @returns {Number}\n */\nexport function indexOf(array, value) {\n  if (!isArray(array)) {\n    return -1;\n  }\n\n  return array.indexOf(value);\n}\n\n/**\n * @description\n * Safe check if value in array\n *\n * @param array\n * @param value\n * @returns {boolean}\n */\nexport function inArray(array, value) {\n  return isArray(array) && indexOf(array, value) !== -1;\n}\n\n/**\n * @description\n * Cast item to array\n *\n * @param array\n * @returns {Array}\n */\nexport function castArray(array) {\n  return isArray(array) ? array : [array];\n}\n\n/**\n * @description\n * Safe check is object has property\n *\n * @param obj\n * @param {string} prop - property name\n * @returns {boolean}\n */\nexport function hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n/**\n * @description\n * Safe set prototype\n *\n * @param obj\n * @param proto\n * @returns {Object}\n */\nexport function setPrototypeOf(obj, proto) {\n  if (Object.setPrototypeOf) {\n    return Object.setPrototypeOf(obj, proto);\n  }\n\n  obj.__proto__ = proto;\n\n  return obj;\n}\n\n/**\n * @description\n * Safe get prototype\n *\n * @param obj\n * @returns {*}\n */\nexport function getPrototypeOf(obj) {\n  if (Object.getPrototypeOf) {\n    return Object.getPrototypeOf(obj);\n  }\n\n  return obj.__proto__;\n}\n\n/**\n * @description\n * Get property value\n *\n * @param {Object} obj\n * @param {string} path\n * @param fallback - fallback value\n * @returns {*}\n */\nexport function getProperty(obj, path = '', fallback = null) {\n  let result = obj;\n  let prop = toString(path);\n\n  if (path === '') {\n    return result;\n  }\n\n  if (!isDefined(obj)) {\n    return fallback;\n  }\n\n  do {\n    if (isObject(result)) {\n      if (hasOwnProperty(result, prop)) {\n        return result[prop];\n      }\n\n      const [first, ...rest] = prop.split('.');\n\n      result = result[first];\n      prop = rest.join('.');\n    } else {\n      break;\n    }\n  } while (prop);\n\n  if (result === null || result === undefined) {\n    return fallback;\n  }\n\n  return result;\n}\n\n/**\n * @description\n * Get property override in chain\n *\n * @param {Object} context\n * @param {string} prop\n * @returns {*}\n */\nexport function getPropertyOverride(context, prop) {\n  if (!context) {\n    return false;\n  }\n\n  return isFunction(context[prop]) ? context[prop] : getPropertyOverride(getPrototypeOf(context), prop);\n}\n\n/**\n * @description\n * Handle Promise or PromiseLike object\n *\n * @param {Promise|PromiseLike} promise\n * @returns {Promise|PromiseLike}\n */\nexport function handlePromise(promise) {\n  if (promise && promise.then) {\n    return promise;\n  }\n\n  return {\n    then: cb => handlePromise(cb(promise)),\n    catch: noop,\n    value: promise,\n    isPromiseLike: true,\n  };\n}\n\n/**\n * @description\n * Handle array of Promises or PromiseLike objects\n *\n * @param promises\n * @returns {Promise|PromiseLike}\n */\nexport function handlePromises(promises) {\n  const isAnyPromiseNotPromiseLike = promises.some(promise => promise && promise.then && !promise.isPromiseLike);\n  if (isAnyPromiseNotPromiseLike) {\n    return Promise.all(promises);\n  }\n\n  const results = promises.map(promise => promise.value);\n\n  return handlePromise(results);\n}\n\n/**\n * @description\n * Format message for rule\n *\n * @param {string|Function} message - message template\n * @param {*} actual - actual value\n * @param {*} expected - expected value\n * @param {string} property - validating property\n * @param {Object} obj - validating object\n * @param {Function} rule - validating function\n * @returns {Promise<string>|PromiseLike<string>}\n */\nexport function formatMessage(\n  message = 'No default message for rule \"%{rule}\"',\n  actual,\n  expected,\n  property,\n  obj,\n  rule,\n) {\n  const lookup = {\n    actual,\n    expected,\n    property,\n    rule,\n  };\n\n  const formattedMessage = isFunction(message)\n    ? message(actual, expected, property, obj)\n    : isString(message)\n      ? message.replace(/%\\{([a-z]+)\\}/gi, (_, match) => lookup[match.toLowerCase()] || '')\n      : message;\n\n  return handlePromise(formattedMessage);\n}\n\n/**\n * @typedef {Object} PromiseLike\n * @property {Function} then\n * @property {Function} catch\n * @property {*} value\n * @property {boolean} isPromiseLike\n */\n","import { isDefined, toString } from '../utils';\n\n/**\n *\n * @param value\n * @param divisibleBy\n * @returns {boolean}\n */\nexport default function divisibleByRule(value, divisibleBy) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  let multiplier = Math.max(\n    toString(value - Math.floor(value)).length - 2,\n    toString(divisibleBy - Math.floor(divisibleBy)).length - 2,\n  );\n\n  multiplier = multiplier > 0 ? Math.pow(10, multiplier) : 1;\n\n  return (value * multiplier) % (divisibleBy * multiplier) === 0;\n}\n\ndivisibleByRule.ruleName = 'divisibleBy';\ndivisibleByRule.defaultMessage = 'must be divisible by %{expected}';\n","import { isDefined, inArray } from '../utils';\n\n/**\n *\n * @param value\n * @param e\n * @returns {boolean}\n */\nexport default function enumRule(value, e) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  return inArray(e, value);\n}\n\nenumRule.ruleName = 'enum';\nenumRule.defaultMessage = 'must be present in given enumerator';\n","/* eslint-disable no-control-regex,no-useless-escape */\nimport { isDefined, isString, isFunction } from '../utils';\n\nconst FORMATS = {\n  int: /^-?\\d+$/,\n  float: /^-?\\d+\\.\\d+$/,\n  number: /^-?\\d+\\.?\\d*$/,\n  email: /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i,\n  ip: /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i,\n  ipv6: /^([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4}$/,\n  time: /^\\d{2}:\\d{2}:\\d{2}$/,\n  date: /^\\d{4}-\\d{2}-\\d{2}$/,\n  'date-time': /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:.\\d{1,3})?Z$/,\n  color: /^#[a-z0-9]{6}|#[a-z0-9]{3}|(?:rgb\\(\\s*(?:[+-]?\\d+%?)\\s*,\\s*(?:[+-]?\\d+%?)\\s*,\\s*(?:[+-]?\\d+%?)\\s*\\))aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow$/i,\n  'host-name': /^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\\-]*[A-Za-z0-9])/,\n  url: /^(https?|ftp|git):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i,\n  regex: {\n    test: function test(value) {\n      try {\n        new RegExp(value);\n      } catch (e) {\n        return false;\n      }\n\n      return true;\n    },\n  },\n};\n\n/**\n *\n * @param value\n * @param format\n * @returns {boolean}\n */\nexport default function formatRule(value, format) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  if (!FORMATS[format]) {\n    throw new Error(`Unknown format \"${format}\"`);\n  }\n\n  return FORMATS[format].test(value);\n}\n\nformatRule.ruleName = 'format';\nformatRule.defaultMessage = 'is not a valid %{expected}';\n\n/**\n *\n * @param name\n * @param format\n */\nexport function addFormatToFormatRule(name, format) {\n  if (isString(format)) {\n    FORMATS[name] = new RegExp(format);\n  } else if (isFunction(format)) {\n    FORMATS[name] = {\n      test: format,\n    };\n  } else {\n    FORMATS[name] = format;\n  }\n}\n","/**\n *\n * @param value\n * @param lessThan\n * @returns {boolean}\n */\nexport default function lessThanRule(value, lessThan) {\n  return value < lessThan;\n}\n\nlessThanRule.ruleName = 'lessThan';\nlessThanRule.defaultMessage = 'must be less than %{expected}';\n","/**\n *\n * @param value\n * @param lessThanProperty\n * @param obj\n * @returns {boolean}\n */\nexport default function lessThanPropertyRule(value, lessThanProperty, obj) {\n  return value < obj[lessThanProperty];\n}\n\nlessThanPropertyRule.ruleName = 'lessThanProperty';\nlessThanPropertyRule.defaultMessage = 'must be less than %{expected}';\n","/**\n *\n * @param value\n * @param moreThan\n * @returns {boolean}\n */\nexport default function moreThanRule(value, moreThan) {\n  return value > moreThan;\n}\n\nmoreThanRule.ruleName = 'moreThan';\nmoreThanRule.defaultMessage = 'must be greater than %{expected}';\n","/**\n *\n * @param value\n * @param moreThanProperty\n * @param obj\n * @returns {boolean}\n */\nexport default function moreThanPropertyRule(value, moreThanProperty, obj) {\n  return value > obj[moreThanProperty];\n}\n\nmoreThanPropertyRule.ruleName = 'moreThanProperty';\nmoreThanPropertyRule.defaultMessage = 'must be greater than %{expected}';\n","/**\n *\n * @param value\n * @param matchTo\n * @returns {boolean}\n */\nexport default function matchToRule(value, matchTo) {\n  return value === matchTo;\n}\n\nmatchToRule.ruleName = 'matchTo';\nmatchToRule.defaultMessage = 'should match to %{expected}';\n","import { castArray } from '../utils';\n\n/**\n *\n * @param value\n * @param matchToProperty\n * @param obj\n * @returns {boolean}\n */\nexport default function matchToPropertyRule(value, matchToProperty, obj) {\n  return castArray(matchToProperty).every(to => obj[to] === value);\n}\n\nmatchToPropertyRule.ruleName = ['matchToProperty', 'matchToProperties'];\nmatchToPropertyRule.defaultMessage = 'should match to %{expected}';\n","import { castArray } from '../utils';\n\n/**\n *\n * @param value\n * @param notMatchTo\n * @returns {*}\n */\nexport default function notMatchToRule(value, notMatchTo) {\n  return castArray(notMatchTo).every(not => not !== value);\n}\n\nnotMatchToRule.ruleName = 'notMatchTo';\nnotMatchToRule.defaultMessage = 'should not match to %{expected}';\n","import { castArray } from '../utils';\n\n/**\n *\n * @param value\n * @param notMatchToProperty\n * @param obj\n * @returns {*}\n */\nexport default function notMatchToPropertyRule(value, notMatchToProperty, obj) {\n  return castArray(notMatchToProperty).every(not => obj[not] !== value);\n}\n\nnotMatchToPropertyRule.ruleName = ['notMatchToProperty', 'notMatchToProperties'];\nnotMatchToPropertyRule.defaultMessage = 'should not match to %{expected}';\n","import { isDefined } from '../utils';\n\n/**\n *\n * @param value\n * @param max\n * @returns {boolean}\n */\nexport default function maxRule(value, max) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  return value <= max;\n}\n\nmaxRule.ruleName = 'max';\nmaxRule.defaultMessage = 'must be less than or equal to %{expected}';\n","import { isDefined, isArray } from '../utils';\n\n/**\n *\n * @param value\n * @param maxItems\n * @returns {boolean}\n */\nexport default function maxItemsRule(value, maxItems) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  return isArray(value) && value.length <= maxItems;\n}\n\nmaxItemsRule.ruleName = 'maxItems';\nmaxItemsRule.defaultMessage = 'must contain less than %{expected} items';\n","import { isDefined } from '../utils';\n\n/**\n *\n * @param value\n * @param maxLength\n * @returns {boolean}\n */\nexport default function maxLengthRule(value, maxLength) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  return value.length <= maxLength;\n}\n\nmaxLengthRule.ruleName = 'maxLength';\nmaxLengthRule.defaultMessage = 'is too long (maximum is %{expected} characters)';\n","import { isDefined } from '../utils';\n\n/**\n *\n * @param value\n * @param min\n * @returns {boolean}\n */\nexport default function minRule(value, min) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  return value >= min;\n}\n\nminRule.ruleName = 'min';\nminRule.defaultMessage = 'must be greater than or equal to %{expected}';\n","import { isDefined, isArray } from '../utils';\n\n/**\n *\n * @param value\n * @param minItems\n * @returns {boolean}\n */\nexport default function minItemsRule(value, minItems) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  return isArray(value) && value.length >= minItems;\n}\n\nminItemsRule.ruleName = 'minItems';\nminItemsRule.defaultMessage = 'must contain more than %{expected} items';\n","import { isDefined } from '../utils';\n\n/**\n *\n * @param value\n * @param minLength\n * @returns {boolean}\n */\nexport default function minLengthRule(value, minLength) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  return value.length >= minLength;\n}\n\nminLengthRule.ruleName = 'minLength';\nminLengthRule.defaultMessage = 'is too short (minimum is %{expected} characters)';\n","import { castArray, isDefined, isString } from '../utils';\n\n/**\n *\n * @param value\n * @param patterns\n * @returns {boolean}\n */\nexport default function patternRule(value, patterns) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  patterns = castArray(patterns).map(pattern => (isString(pattern) ? new RegExp(pattern) : pattern));\n\n  return patterns.every(pattern => pattern.test(value));\n}\n\npatternRule.ruleName = 'pattern';\npatternRule.defaultMessage = 'invalid input';\n","import { isDefined, isBoolean, isObject } from '../utils';\n\n/**\n *\n * @param value\n * @param required\n * @returns {*}\n */\nexport default function requiredRule(value, required) {\n  if (isBoolean(required) && !required) {\n    return true;\n  }\n\n  if (isObject(required)) {\n    const { allowEmpty, allowZero } = required;\n\n    if (isBoolean(allowEmpty)) {\n      return allowEmpty && value === '';\n    }\n\n    if (isBoolean(allowZero)) {\n      return allowZero && value === 0;\n    }\n  }\n\n  return !!value && isDefined(value);\n}\n\nrequiredRule.ruleName = 'required';\nrequiredRule.defaultMessage = 'is required';\n","import { isDefined, isBoolean, isNumber, isString, isDate, isObject, isArray } from '../utils';\n\nfunction checkValueType(value, type) {\n  switch (type) {\n    case 'boolean':\n      return isBoolean(value);\n\n    case 'number':\n      return isNumber(value);\n\n    case 'string':\n      return isString(value);\n\n    case 'date':\n      return isDate(value);\n\n    case 'object':\n      return isObject(value);\n\n    case 'array':\n      return isArray(value);\n\n    default:\n      return true;\n  }\n}\n\n/**\n *\n * @param value\n * @param type\n * @returns {boolean}\n */\nexport default function typeRule(value, type) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  let types = type;\n\n  if (!Array.isArray(type)) {\n    types = [type];\n  }\n\n  return types.some(type => checkValueType(value, type));\n}\n\ntypeRule.ruleName = 'type';\ntypeRule.defaultMessage = 'must be of %{expected} type';\n","import { isDefined } from '../utils';\n\n/**\n *\n * @param value\n * @param uniqueItems\n * @returns {boolean}\n */\nexport default function uniqueItemsRule(value, uniqueItems) {\n  if (!isDefined(value)) {\n    return true;\n  }\n\n  if (!uniqueItems) {\n    return true;\n  }\n\n  const hash = {};\n\n  let i = 0,\n    ln = value.length;\n  for (; i < ln; i++) {\n    const key = JSON.stringify(value[i]);\n    if (hash[key]) {\n      return false;\n    }\n\n    hash[key] = true;\n  }\n\n  return true;\n}\n\nuniqueItemsRule.ruleName = 'uniqueItems';\nuniqueItemsRule.defaultMessage = 'must hold an unique set of values';\n","import { hasOwnProperty, castArray } from './utils';\nimport * as rules from './rules/index';\n\nconst rulesStorage = {};\n\n/**\n * Register validation rule\n *\n * @param {string} name - rule name\n * @param {Function} rule - rule function\n * @param {string|Function} message - rule message\n */\nexport function registerRule(name, rule, message) {\n  if (hasOwnProperty(rulesStorage, name)) {\n    console.warn(`[WARNING]: Trying to override defined rule '${name}'. Please use 'overrideRule' function instead.`);\n  }\n\n  rulesStorage[name] = {\n    name,\n    message,\n    check: rule,\n  };\n}\n\n/**\n * Register batch validation rule\n *\n * @param {Array} rules - rules to register\n */\nexport function registerRules(rules) {\n  for (const rule of rules) {\n    if (rule && rule.ruleName) {\n      const ruleNames = castArray(rule.ruleName);\n\n      for (const ruleName of ruleNames) {\n        registerRule(ruleName, rule, rule.defaultMessage);\n      }\n    }\n  }\n}\n\n/**\n * Check if rule is registered\n *\n * @param {string} name - rule name\n * @returns {boolean}\n */\nexport function hasRule(name) {\n  return hasOwnProperty(rulesStorage, name);\n}\n\n/**\n * Get rule by name\n *\n * @param {string} name\n * @returns {{name, message, check}}\n */\nexport function getRule(name) {\n  return rulesStorage[name] || {};\n}\n\n/**\n * Override rule by name\n *\n * @param {string} name - rule name\n * @param {Function} rule - rule function\n * @param {string|Function} message - rule message\n */\nexport function overrideRule(name, rule, message) {\n  if (hasRule(name)) {\n    let defaultRule = getRule(name);\n\n    defaultRule.check = rule;\n    defaultRule.message = message || defaultRule.message;\n  }\n}\n\n/**\n * Override rule message by name\n *\n * @param {string} name - rule name\n * @param {string|Function} message - rule message\n */\nexport function overrideRuleMessage(name, message) {\n  if (hasRule(name)) {\n    let defaultRule = getRule(name);\n\n    defaultRule.message = message;\n  }\n}\n\nregisterRules(Object.values(rules));\n","import { isString, isObject, isDefined, getPrototypeOf } from './utils';\n\n/**\n * @typedef ValidationResult\n * @property {boolean} isValid - check if validation result has not errors\n * @property {boolean} hasErrors - check if validation result has errors\n * @property {boolean} hasErrorsOfTypes - check if validation result has errors of specific types\n * @property {*} getErrors - get validation result errors\n * @property {*} getFirstErrors - get first validation result errors\n * @property {Array<*>} getErrorsAsArray - get validation result errors as array\n * @property {string} getFirstError - get first validation result error\n *\n * ValidationResult is util class that contain information about errors and any level\n *\n * @param {Object} errors - validation errors\n * @returns {ValidationResult}\n */\nexport default function ValidationResult(errors = {}) {\n  const protoOfErrors = getPrototypeOf(errors);\n  const that = {\n    ...protoOfErrors,\n    ...errors,\n  };\n  const keys = [...Object.keys(errors), ...Object.keys(protoOfErrors)];\n\n  Object.defineProperties(that, {\n    isValid: {\n      value: function isValid() {\n        return !this.hasErrors();\n      },\n    },\n    hasErrors: {\n      value: function hasErrors() {\n        return keys.some(key => {\n          if (that[key].hasErrors) {\n            return that[key].hasErrors();\n          }\n\n          return that[key];\n        });\n      },\n    },\n    hasErrorsOfTypes: {\n      value: function hasErrorsOfTypes(...types) {\n        return keys.some(key => {\n          if (types.indexOf(key) !== -1) {\n            return true;\n          }\n\n          if (that[key].hasErrorsOfTypes) {\n            return that[key].hasErrorsOfTypes(...types);\n          }\n\n          return false;\n        });\n      },\n    },\n    getErrors: {\n      value: function getErrors(includeEmptyErrors) {\n        return keys.reduce((result, key) => {\n          const subErrors = that[key].getErrors ? that[key].getErrors(includeEmptyErrors) : that[key];\n\n          if (Object.keys(subErrors).length || includeEmptyErrors) {\n            return {\n              ...result,\n              [key]: subErrors,\n            };\n          }\n\n          return result;\n        }, {});\n      },\n    },\n    getFirstErrors: {\n      value: function getFirstErrors(includeEmptyErrors) {\n        return keys.reduce((result, key, index) => {\n          const subErrors = that[key].getFirstErrors ? that[key].getFirstErrors(includeEmptyErrors) : that[key];\n\n          if (!isString(result) && isObject(that[key]) && (Object.keys(subErrors).length || includeEmptyErrors)) {\n            return {\n              ...result,\n              [key]: subErrors,\n            };\n          }\n\n          return index === 0 ? subErrors : result;\n        }, {});\n      },\n    },\n    getErrorsAsArray: {\n      value: function getErrorsAsArray(includeEmptyErrors) {\n        return keys\n          .map(key => {\n            const subErrors = that[key].getErrorsAsArray ? that[key].getErrorsAsArray(includeEmptyErrors) : that[key];\n\n            if (subErrors.length || includeEmptyErrors) {\n              return subErrors;\n            }\n\n            return null;\n          }, {})\n          .filter(error => isDefined(error));\n      },\n    },\n    getFirstError: {\n      value: function getFirstError(...exclude) {\n        return (this.getErrorsAsArray(exclude) || [])[0];\n      },\n    },\n  });\n\n  return that;\n}\n","import { getRule, hasRule } from './storage';\nimport {\n  noop,\n  isFunction,\n  isString,\n  isArray,\n  castArray,\n  handlePromise,\n  handlePromises,\n  formatMessage,\n  setPrototypeOf,\n  getProperty,\n  getPropertyOverride,\n  hasOwnProperty,\n} from './utils';\n\nimport ValidationResult from './validationResult';\n\n/**\n * @description\n * Main endpoint for validation\n * Validate anything by specified schema\n *\n * @param {Object|Function} schema - Validation schema\n * @param {Object|Array} anything - Anything to validate\n * @returns {Promise<ValidationResult>}\n *\n * @example\n * import { validate } from 'valirator';\n *\n * const schema = {\n *    FirstName: {\n *      required: true,\n *    },\n *    LastName: {\n *      required: true,\n *    },\n * };\n *\n * const obj = {\n *   FirstName: 'Bob',\n * };\n *\n * const validationResult = await validate(schema, obj);\n */\nexport function validate(schema, anything) {\n  return handlePromise(isFunction(schema) ? schema(anything) : schema).then(builtSchema =>\n    validateProperty(undefined, anything, builtSchema),\n  );\n}\n\n/**\n * @description\n * Wrapper on validate function for sync validation\n * Can be used if no async operation defined (rule or message)\n *\n * @param {Object|Function} schema - Validation schema\n * @param {Object|Array} anything - Anything to validate\n * @returns {ValidationResult}\n */\nexport function validateSync(schema, anything) {\n  const promise = validate(isFunction(schema) ? schema(anything) : schema, anything);\n\n  return promise && promise.value;\n}\n\n/**\n *\n * @param obj\n * @param schema\n * @param overrides\n * @returns {Promise<ValidationResult>}\n */\nexport function validateObject(obj, schema, overrides = {}, initial = obj) {\n  const keys = Object.keys(schema);\n  const promises = keys.map(property => validateProperty(property, obj, schema, overrides, initial));\n\n  return handlePromises(promises).then(results => {\n    let errors = {};\n\n    results.forEach((result, i) => {\n      errors[keys[i]] = result;\n    });\n\n    return new ValidationResult(errors);\n  });\n}\n\n/**\n *\n * @param obj\n * @param schema\n * @param overrides\n * @returns {ValidationResult}\n */\nexport function validateObjectSync(obj, schema, overrides, initial = obj) {\n  const promise = validateObject(obj, schema, overrides, initial);\n\n  return promise && promise.value;\n}\n\n/**\n *\n * @param array\n * @param schema\n * @param overrides\n * @returns {Promise<ValidationResult>}\n */\nexport function validateArray(array, schema, overrides = {}, initial = array) {\n  const promises = (array || []).map(item => validateObject(item, schema, overrides, initial));\n\n  return handlePromises(promises).then(results => {\n    let errors = {};\n\n    results.forEach((result, i) => {\n      errors[i] = result;\n    });\n\n    return new ValidationResult(errors);\n  });\n}\n\n/**\n *\n * @param array\n * @param schema\n * @param overrides\n * @returns {ValidationResult}\n */\nexport function validateArraySync(array, schema, overrides, initial = array) {\n  const promise = validateArray(array, schema, overrides, initial);\n\n  return promise && promise.value;\n}\n\n/**\n *\n * @param property\n * @param obj\n * @param schema\n * @param overrides\n * @returns {Promise<ValidationResult>}\n */\nexport function validateProperty(property, obj, schema = {}, overrides = {}, initial = obj) {\n  const propertyValue = getProperty(schema, property, {});\n  let {\n    __isArray__,\n    rules: propertyRules,\n    messages: propertyMessages = {},\n    overrides: propertyOverrides = {},\n    properties: propertyProperties,\n  } = propertyValue;\n\n  const { rules: overriddenRules = {}, messages: overriddenMessages = {} } = overrides;\n\n  if (!propertyRules && !propertyProperties) {\n    const propertyKeys = Object.keys(propertyValue);\n    const hasRuleProperty = propertyKeys.some(\n      key => hasRule(key) || hasOwnProperty(overriddenRules, key) || isFunction(propertyValue[key]),\n    );\n\n    if (hasRuleProperty) {\n      propertyRules = propertyValue;\n    }\n  }\n\n  if (!propertyRules && !propertyProperties) {\n    propertyProperties = propertyValue;\n  }\n\n  if (!propertyRules) {\n    propertyRules = {};\n  }\n\n  if (!propertyProperties) {\n    propertyProperties = {};\n  }\n\n  setPrototypeOf(propertyOverrides, overrides);\n  setPrototypeOf(propertyRules, overriddenRules);\n  setPrototypeOf(propertyMessages, overriddenMessages);\n\n  const value = getProperty(obj, property);\n\n  return validateValue(value, propertyRules, propertyMessages, obj, property, schema, initial).then(\n    valueValidationResult => {\n      if (propertyProperties) {\n        const subValidationCallback = subValidationResult => {\n          setPrototypeOf(valueValidationResult, subValidationResult);\n\n          return new ValidationResult(valueValidationResult);\n        };\n\n        if (isArray(value) || __isArray__) {\n          return validateArray(value, propertyProperties, propertyOverrides, initial).then(subValidationCallback);\n        } else {\n          return validateObject(value, propertyProperties, propertyOverrides, initial).then(subValidationCallback);\n        }\n      }\n\n      return new ValidationResult(valueValidationResult);\n    },\n  );\n}\n\n/**\n *\n * @param property\n * @param obj\n * @param schema\n * @param overrides\n * @returns {ValidationResult}\n */\nexport function validatePropertySync(property, obj, schema, overrides) {\n  const promise = validateProperty(property, obj, schema, overrides);\n\n  return promise && promise.value;\n}\n\n/**\n *\n * @param value\n * @param rules\n * @param messages\n * @param obj\n * @param property\n * @param schema\n * @returns {Promise<ValidationResult>}\n */\nexport function validateValue(value, rules = {}, messages = {}, obj, property, schema, initial = obj) {\n  const keys = Object.keys(rules);\n  const promises = keys.map(rule => {\n    const expected = rules[rule];\n    const message = messages[rule];\n\n    return validateRule(rule, expected, value, message, rules, messages, obj, property, schema, initial);\n  });\n\n  return handlePromises(promises).then(results => {\n    let errors = {};\n\n    results.forEach((result, i) => {\n      if (result) {\n        errors[keys[i]] = result;\n      }\n    });\n\n    return new ValidationResult(errors);\n  });\n}\n\n/**\n *\n * @param value\n * @param rules\n * @param messages\n * @param obj\n * @param property\n * @param schema\n * @returns {ValidationResult}\n */\nexport function validateValueSync(value, rules, messages, obj, property, schema) {\n  const promise = validateValue(value, rules, messages, obj, property, schema);\n\n  return promise && promise.value;\n}\n\n/**\n *\n * @param rule\n * @param expected\n * @param value\n * @param message\n * @param rules\n * @param messages\n * @param obj\n * @param property\n * @param schema\n * @returns {Promise<boolean>}\n */\nexport function validateRule(rule, expected, value, message, rules, messages, obj, property, schema, initial = obj) {\n  const { check: defaultRule = noop, message: defaultMessage } = getRule(rule);\n\n  const overriddenRule = rules && (getPropertyOverride(rules, rule) || rules[rule]);\n  const overriddenMessage = messages && (getPropertyOverride(messages, rule) || messages[rule]);\n\n  const ruleFn = isFunction(overriddenRule) ? overriddenRule : defaultRule;\n  const ruleMsg = overriddenMessage || message || defaultMessage;\n\n  const expects = castArray(expected);\n  const validations = expects.map(exp =>\n    handlePromise(ruleFn(value, exp, obj, property, schema, defaultRule, initial)),\n  );\n\n  return handlePromises(validations).then(results => {\n    const hasValidResult = results.some(result => result === true);\n\n    if (!hasValidResult) {\n      const result = results.find(result => result !== true);\n\n      if (isString(result)) {\n        return result;\n      } else if (result !== true) {\n        return formatMessage(\n          ruleMsg,\n          value,\n          expects.join(', '),\n          getProperty(schema, `${property}.alias`) || property,\n          obj,\n          rule,\n        );\n      }\n    }\n  });\n}\n\n/**\n *\n * @param rule\n * @param expected\n * @param value\n * @param message\n * @param rules\n * @param messages\n * @param obj\n * @param property\n * @param schema\n * @returns {boolean}\n */\nexport function validateRuleSync(rule, expected, value, message, rules, messages, obj, property, schema) {\n  const promise = validateRule(rule, expected, value, message, rules, messages, obj, property, schema);\n\n  return promise && promise.value;\n}\n","import { validate, validateSync } from '../core';\n\n/**\n *\n * @param schema\n * @param onlyFirstErrors\n * @returns {ngValidatorFn}\n */\nexport function ngValidator(schema, onlyFirstErrors) {\n  return function ngValidatorFn(control) {\n    const validationResult = validateSync(schema, control.value);\n\n    return onlyFirstErrors ? validationResult.getFirstErrors() : validationResult.getErrors();\n  };\n}\n\n/**\n *\n * @param schema\n * @param onlyFirstErrors\n * @returns {ngAsyncValidatorFn}\n */\nexport function ngAsyncValidator(schema, onlyFirstErrors) {\n  return function ngAsyncValidatorFn(control) {\n    return validate(schema, control.value).then(validationResult => {\n      return onlyFirstErrors ? validationResult.getFirstErrors() : validationResult.getErrors();\n    });\n  };\n}\n","import { validate, validateSync } from '../core';\n\n/**\n *\n * @param schema\n * @param allErrors\n * @returns {reduxFormValidatorFn}\n */\nexport function reduxFormValidator(schema, allErrors) {\n  return function reduxFormValidatorFn(values) {\n    const validationResult = validateSync(schema, values);\n\n    return allErrors ? validationResult.getErrors() : validationResult.getFirstErrors();\n  };\n}\n\n/**\n *\n * @param schema\n * @param allErrors\n * @returns {reduxFormAsyncValidatorFn}\n */\nexport function reduxFormAsyncValidator(schema, allErrors) {\n  return function reduxFormAsyncValidatorFn(values) {\n    return validate(schema, values).then(validationResult => {\n      return allErrors ? validationResult.getErrors() : validationResult.getFirstErrors();\n    });\n  };\n}\n","import { validate, validateSync, validateProperty, validatePropertySync } from './core';\n\n/**\n * ValidationSchema is util class that\n *\n * @param {Object} schema -\n * @constructor\n */\nexport default function ValidationSchema(schema) {\n  this._schema = schema;\n\n  this.validate = obj => validate(schema, obj);\n  this.validateSync = obj => validateSync(schema, obj);\n  this.validateProperty = (property, obj) => validateProperty(property, obj, schema);\n  this.validatePropertySync = (property, obj) => validatePropertySync(property, obj);\n}\n"],"names":["noop","isType","obj","typeStr","Object","prototype","toString","call","isObject","isArray","isFunction","isString","isDate","isNumber","isNaN","isBoolean","isEmpty","length","keys","isNull","isUndefined","isNullOrUndefined","isDefined","String","indexOf","array","value","inArray","castArray","hasOwnProperty","prop","setPrototypeOf","proto","__proto__","getPrototypeOf","getProperty","path","fallback","result","split","first","rest","join","undefined","getPropertyOverride","context","handlePromise","promise","then","cb","catch","isPromiseLike","handlePromises","promises","isAnyPromiseNotPromiseLike","some","Promise","all","results","map","formatMessage","message","actual","expected","property","rule","lookup","formattedMessage","replace","_","match","toLowerCase","divisibleByRule","divisibleBy","multiplier","Math","max","floor","pow","ruleName","defaultMessage","enumRule","e","FORMATS","int","float","number","email","ip","ipv6","time","date","color","url","regex","test","RegExp","formatRule","format","Error","addFormatToFormatRule","name","lessThanRule","lessThan","lessThanPropertyRule","lessThanProperty","moreThanRule","moreThan","moreThanPropertyRule","moreThanProperty","matchToRule","matchTo","matchToPropertyRule","matchToProperty","every","to","notMatchToRule","notMatchTo","not","notMatchToPropertyRule","notMatchToProperty","maxRule","maxItemsRule","maxItems","maxLengthRule","maxLength","minRule","min","minItemsRule","minItems","minLengthRule","minLength","patternRule","patterns","pattern","requiredRule","required","allowEmpty","allowZero","checkValueType","type","typeRule","types","Array","uniqueItemsRule","uniqueItems","hash","i","ln","key","JSON","stringify","rulesStorage","registerRule","console","warn","check","registerRules","rules","ruleNames","hasRule","getRule","overrideRule","defaultRule","overrideRuleMessage","values","ValidationResult","errors","protoOfErrors","that","defineProperties","isValid","hasErrors","hasErrorsOfTypes","getErrors","includeEmptyErrors","reduce","subErrors","getFirstErrors","index","getErrorsAsArray","filter","error","getFirstError","exclude","validate","schema","anything","builtSchema","validateProperty","validateSync","validateObject","overrides","initial","forEach","validateObjectSync","validateArray","item","validateArraySync","propertyValue","__isArray__","propertyRules","messages","propertyMessages","propertyOverrides","propertyProperties","properties","overriddenRules","overriddenMessages","propertyKeys","hasRuleProperty","validateValue","valueValidationResult","subValidationCallback","subValidationResult","validatePropertySync","validateRule","validateValueSync","overriddenRule","overriddenMessage","ruleFn","ruleMsg","expects","validations","exp","hasValidResult","find","validateRuleSync","ngValidator","onlyFirstErrors","ngValidatorFn","control","validationResult","ngAsyncValidator","ngAsyncValidatorFn","reduxFormValidator","allErrors","reduxFormValidatorFn","reduxFormAsyncValidator","reduxFormAsyncValidatorFn","ValidationSchema","_schema"],"mappings":"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"}